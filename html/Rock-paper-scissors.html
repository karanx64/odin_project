<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JavaScript Page 1</title>
    <style>
      button {
        margin: 10px;
      }
    </style>
  </head>
  <body>
    <center><h1>JavaScript Page 1</h1></center>
    <center><h2>Console based Rock paper scissors</h2></center>
    <center>
      <h3>
        <mark>
          I bet, my code is the messiest and the least optimized of all.</mark
        >
      </h3>
    </center>
    <center>
      <div id="mainContainer"></div>
      <div id="scoreContainer">
        <ul style="list-style: none"></ul>
      </div>
    </center>
    <script>
      // getComputerChoice() returns either rock, P or scissors based on Math.random()
      function getComputerChoice() {
        let num = Math.floor(Math.random() * 3);
        if (num === 0) {
          console.log("Opponent chose Rock");
          return "r";
        } else if (num === 1) {
          console.log("Opponent chose Paper");
          return "p";
        } else {
          console.log("Opponent chose Scissors");
          return "s";
        }
      }

      let humanScore = 0;
      let computerScore = 0;

      const mainContainer = document.querySelector("#mainContainer");
      const scoreContainer = document.querySelector("#scoreContainer");
      const myList = document.querySelector("#scoreContainer>ul");

      const btnRock = document.createElement("button");
      btnRock.textContent = "Rock";
      const btnPaper = document.createElement("button");
      btnPaper.textContent = "Paper";
      const btnScissors = document.createElement("button");
      btnScissors.textContent = "Scissors";

      mainContainer.appendChild(btnRock);
      mainContainer.appendChild(btnPaper);
      mainContainer.appendChild(btnScissors);

      btnRock.addEventListener("click", (e) => {
        console.log("you chose ROCK");

        const roundRslt = document.createElement("li");
        roundRslt.textContent = playRound("r", getComputerChoice());

        myList.appendChild(roundRslt);
      });
      btnPaper.addEventListener("click", (e) => {
        const roundRslt = document.createElement("li");
        roundRslt.textContent = playRound("p", getComputerChoice());
        myList.appendChild(roundRslt);
      });
      btnScissors.addEventListener("click", (e) => {
        const roundRslt = document.createElement("li");
        roundRslt.textContent = playRound("s", getComputerChoice());
        myList.appendChild(roundRslt);
      });

      // playround() evaluates both the inputs and returns who scored.
      function playRound(humanChoice, computerChoice) {
        if (computerChoice === "r" && humanChoice === "r") {
          return (
            "both rock. draw " +
            "human: " +
            humanScore +
            " | computer: " +
            computerScore
          );
        } else if (computerChoice === "p" && humanChoice === "p") {
          return (
            "both P. draw" +
            "human: " +
            humanScore +
            " | computer: " +
            computerScore
          );
        } else if (computerChoice === "s" && humanChoice === "s") {
          return (
            "both scissors. draw" +
            "human: " +
            humanScore +
            " | computer: " +
            computerScore
          );
        } else if (computerChoice === "r" && humanChoice === "p") {
          humanScore += 1;
          return (
            "You won this round" +
            "human: " +
            humanScore +
            " | computer: " +
            computerScore
          );
        } else if (computerChoice === "p" && humanChoice === "r") {
          computerScore += 1;
          return (
            "computer won this round" +
            "human: " +
            humanScore +
            " | computer: " +
            computerScore
          );
        } else if (computerChoice === "r" && humanChoice === "s") {
          computerScore += 1;
          return (
            "Computer won this round" +
            "human: " +
            humanScore +
            " | computer: " +
            computerScore
          );
        } else if (computerChoice === "s" && humanChoice === "r") {
          humanScore += 1;
          return (
            "You won this round" +
            "human: " +
            humanScore +
            " | computer: " +
            computerScore
          );
        } else if (computerChoice === "p" && humanChoice === "s") {
          humanScore += 1;
          return (
            "You won this round" +
            "human: " +
            humanScore +
            " | computer: " +
            computerScore
          );
        } else if (computerChoice === "s" && humanChoice === "P") {
          computerScore += 1;
          return (
            "computer won this round" +
            "human: " +
            humanScore +
            " | computer: " +
            computerScore
          );
        }
        console.log("human: ", humanScore, " | computer: ", computerScore);
      }
    </script>
  </body>
</html>
